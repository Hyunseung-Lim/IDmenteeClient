{"ast":null,"code":"var _jsxFileName = \"/Users/imhyeonseung/Desktop/GIT/DesignQuestioning/client/src/Pages/mainpage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './pages.css';\nimport { Topbar } from '../Components/Topbar/topbar';\nimport { Board } from '../Components/board/board';\nimport { Chat } from '../Components/chat/chat';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const MainPage = props => {\n  _s();\n  const [profileData, setProfileData] = useState({\n    'name': null\n  });\n  const [notesData, setNotesData] = useState([{\n    \"id\": 0,\n    \"content\": \"저출산의 원인은 바쁜 와중에 아이를 돌볼 시간이 없다는 것. 그래서 디지털 트윈 기술을 활용해 디지털 환경에서 아이를 케어하면 실제 아이도 케어를 받도록 함\",\n    \"position\": {\n      \"x\": 0,\n      \"y\": 0\n    }\n  }, {\n    \"id\": 1,\n    \"content\": \"hi1\",\n    \"position\": {\n      \"x\": 400,\n      \"y\": 400\n    }\n  }]);\n\n  // get profile data from server\n  function getData() {\n    axios({\n      method: \"GET\",\n      url: \"/profile\",\n      headers: {\n        Authorization: 'Bearer ' + props.token\n      }\n    }).then(response => {\n      const res = response.data;\n      res.access_token && props.setToken(res.access_token);\n      setProfileData({\n        name: res.name\n      });\n      setNotesData(res.notesData);\n    }).catch(error => {\n      if (error.response) {\n        console.log(error.response);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n        axios({\n          method: \"POST\",\n          url: \"/logout\"\n        }).then(response => {\n          props.removeToken();\n        }).catch(error => {\n          if (error.response) {\n            console.log(error.response);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n          }\n        });\n      }\n    });\n  }\n  useEffect(() => {\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainpage\",\n      children: [/*#__PURE__*/_jsxDEV(Topbar, {\n        removeToken: props.removeToken\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UIContainer\",\n        children: [notesData ? /*#__PURE__*/_jsxDEV(Board, {\n          notesData: notesData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 34\n        }, this) : /*#__PURE__*/_jsxDEV(Board, {\n          notesData: [{\n            \"id\": 1,\n            \"content\": \"hi1\",\n            \"position\": {\n              \"x\": 400,\n              \"y\": 400\n            }\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 67\n        }, this), /*#__PURE__*/_jsxDEV(Chat, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(MainPage, \"jSshyf1YGgdYwxHqYpG9GUSmOto=\");\n_c = MainPage;\nvar _c;\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","Topbar","Board","Chat","jsxDEV","_jsxDEV","Fragment","_Fragment","MainPage","props","_s","profileData","setProfileData","notesData","setNotesData","getData","method","url","headers","Authorization","token","then","response","res","data","access_token","setToken","name","catch","error","console","log","status","removeToken","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/imhyeonseung/Desktop/GIT/DesignQuestioning/client/src/Pages/mainpage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './pages.css'\n\nimport { Topbar } from '../Components/Topbar/topbar';\nimport { Board } from '../Components/board/board';\nimport { Chat } from '../Components/chat/chat';\n\nexport const MainPage = (props) => {\n\n    const [profileData, setProfileData] = useState({'name':null})\n    const [notesData, setNotesData] = useState([{\"id\": 0, \"content\": \"저출산의 원인은 바쁜 와중에 아이를 돌볼 시간이 없다는 것. 그래서 디지털 트윈 기술을 활용해 디지털 환경에서 아이를 케어하면 실제 아이도 케어를 받도록 함\", \"position\": {\"x\": 0, \"y\": 0}}, {\"id\": 1, \"content\": \"hi1\", \"position\": {\"x\": 400, \"y\": 400}}]);\n\n\n    // get profile data from server\n    function getData() {\n        axios({\n        method: \"GET\",\n        url:\"/profile\",\n        headers: {\n            Authorization: 'Bearer ' + props.token\n        }\n        })\n        .then((response) => {\n        const res =response.data\n        res.access_token && props.setToken(res.access_token)\n        setProfileData(({\n            name: res.name\n        }))\n        setNotesData(\n            res.notesData\n        )\n        }).catch((error) => {\n        if (error.response) {\n            console.log(error.response)\n            console.log(error.response.status)\n            console.log(error.response.headers)\n            axios({\n            method: \"POST\",\n            url:\"/logout\",\n            })\n            .then((response) => {\n            props.removeToken()\n            }).catch((error) => {\n            if (error.response) {\n                console.log(error.response)\n                console.log(error.response.status)\n                console.log(error.response.headers)\n                }\n            })\n            }\n        })\n    }\n\n  useEffect(() => {\n    getData()\n  }, []);\n\n    return(\n        <>\n            <div className='mainpage'>\n                <Topbar removeToken={props.removeToken}/>\n                <div className='UIContainer'>\n                    {notesData ? <Board notesData={notesData}/> : <Board notesData={[{\"id\": 1, \"content\": \"hi1\", \"position\": {\"x\": 400, \"y\": 400}}]}/>}\n                    <Chat/>\n                </div>\n            </div>\n        </>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}